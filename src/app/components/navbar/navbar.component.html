<!-- Navbar -->
<nav class="navbar navbar-light bg-body-tertiary">
  <div
    class="container-fluid d-flex align-items-center justify-content-between"
  >
    <!-- Toggle button & Brand -->
    <div class="d-flex align-items-center">
      <!--
        Affiché
        uniquement
        sur
        petit
        écran
        -->
      <button
        class="navbar-toggler me-2 d-lg-none"
        type="button"
        (click)="toggleNavbar()"
      >
        <i class="fas fa-bars"></i>
      </button>
      <a class="navbar-brand m-0" href="#"> Home Duty Tracker </a>
    </div>

    <!-- Right elements (Dropdowns) -->
    <div class="d-flex align-items-center ms-auto">
      <div class="dropdown me-3">
        <a
          class="text-reset dropdown-toggle hidden-arrow"
          (click)="toggleNotification()"
          [attr.aria-expanded]="isNotificationOpen"
        >
          <i class="fas fa-bell"></i>
          <span class="badge rounded-pill badge-notification bg-danger">1</span>
        </a>
        <ul
          class="dropdown-menu dropdown-menu-end"
          [ngClass]="{ show: isNotificationOpen }"
        >
          <li><a class="dropdown-item" href="#">Some news</a></li>
          <li><a class="dropdown-item" href="#">Another news</a></li>
          <li><a class="dropdown-item" href="#">Something else here</a></li>
        </ul>
      </div>

      <!-- Avatar -->
      <div class="dropdown">
        <a
          class="dropdown-toggle d-flex align-items-center hidden-arrow"
          (click)="toggleProfil()"
          [attr.aria-expanded]="isProfilOpen"
        >
          <img
            src="https://mdbcdn.b-cdn.net/img/new/avatars/2.webp"
            class="rounded-circle"
            height="25"
            alt="User Avatar"
          />
        </a>
        <ul
          class="dropdown-menu dropdown-menu-end"
          [ngClass]="{ show: isProfilOpen }"
        >
          <li><a class="dropdown-item" href="#">My profile</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><a class="dropdown-item" href="#">Logout</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Standard Menu (Affiché uniquement sur grand écran) -->
<div class="d-none d-lg-block">
  <ul class="navbar-nav d-flex flex-row justify-content-center">
    <li class="nav-item" *ngFor="let menuItem of menuItems">
      <a
        class="nav-link custom-nav-link"
        routerLink="/{{ menuItem.routePath }}"
        routerLinkActive="active"
      >
        <span>{{ menuItem.title }}</span>
      </a>
    </li>
  </ul>
</div>

<!-- Sidebar Menu (Affiché uniquement sur petit écran) -->
<div class="sidebar-menu" [ngClass]="{ 'show-sidebar': isNavbarOpen }">
  <button class="close-btn" (click)="toggleNavbar()">&times;</button>
  <ul class="navbar-nav">
    <li class="nav-item" *ngFor="let menuItem of menuItems">
      <a
        class="nav-link custom-nav-link"
        routerLink="/{{ menuItem.routePath }}"
        routerLinkActive="active"
      >
        <span>{{ menuItem.title }}</span>
      </a>
    </li>
  </ul>
</div>

<!-- Overlay (Pour fermer la sidebar en cliquant à l'extérieur) -->
<div
  class="sidebar-overlay"
  [ngClass]="{
    'show-overlay': isNavbarOpen
  }"
  (click)="toggleMenus()"
></div>
