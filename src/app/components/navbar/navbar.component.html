<!-- Navbar -->
<nav class="navbar navbar-light bg-body-tertiary">
  <div
    class="container-fluid d-flex align-items-center justify-content-between"
  >
    <!-- Toggle button & Brand -->
    <div class="d-flex align-items-center">
      <!--
        Affiché
        uniquement
        sur
        petit
        écran
        -->
      <button
        class="navbar-toggler me-2 d-lg-none"
        type="button"
        (click)="toggleNavbar()"
      >
        <i class="fas fa-bars"></i>
      </button>
      <h4 class="navbar-brand m-0 titleSecondary title" href="#">
        Home Duty Tracker
      </h4>
    </div>

    <!-- Right elements (Dropdowns) -->
    <div class="d-flex align-items-center ms-auto">
      <!-- <div class="dropdown me-3">
        <a
          class="text-reset dropdown-toggle hidden-arrow"
          (click)="toggleNotification()"
          [attr.aria-expanded]="isNotificationOpen"
        >
          <i class="fas fa-bell"></i>
          <span class="badge rounded-pill badge-notification bg-danger">1</span>
        </a>
        <ul
          class="dropdown-menu dropdown-menu-end"
          [ngClass]="{ show: isNotificationOpen }"
          data-bs-popper="none"
        >
          <li><a class="dropdown-item" href="#">Tâches assignées</a></li>
          <li><a class="dropdown-item" href="#">Tâches Supervisées</a></li>
          <li><a class="dropdown-item" href="#">informations</a></li>
        </ul>
      </div> -->

      <!-- Avatar -->
      <p class="m- me-3">
        {{ connectedUser.prenomUser }} {{ connectedUser.nomUser }},
        <span>{{ connectedUser.idRole }}</span>
      </p>
      <div class="dropdown">
        <a
          class="dropdown-toggle d-flex align-items-center hidden-arrow"
          (click)="toggleProfil()"
          [attr.aria-expanded]="isProfilOpen"
        >
          <img
            [src]="connectedUser.photo"
            class="rounded-circle"
            height="25"
            alt="User Avatar"
          />
        </a>
        <ul
          class="dropdown-menu dropdown-menu-end"
          [ngClass]="{ show: isProfilOpen }"
          data-bs-popper="none"
        >
          <li><a class="dropdown-item" href="#">Mon compte</a></li>
          <!-- <li><a class="dropdown-item" href="#">Settings</a></li> -->
          <li>
            <a class="dropdown-item" (click)="logout()">Se déconnecter</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<!-- Standard Menu (Affiché uniquement sur grand écran) -->
<div class="d-none d-lg-block bg-body-tertiary">
  <ul class="navbar-nav d-flex flex-row justify-content-center">
    <li class="nav-item" *ngFor="let menuItem of menuItems">
      <a
        class="nav-link custom-nav-link"
        routerLink="/{{ menuItem.routePath }}"
        routerLinkActive="active"
      >
        <span>{{ menuItem.title }}</span>
      </a>
    </li>
  </ul>
</div>

<!-- Sidebar Menu (Affiché uniquement sur petit écran) -->
<div
  class="sidebar-menu bg-body-tertiary"
  [ngClass]="{ 'show-sidebar': isNavbarOpen }"
>
  <button class="close-btn" (click)="toggleNavbar()">&times;</button>
  <ul class="navbar-nav">
    <li class="nav-item" *ngFor="let menuItem of menuItems">
      <a
        class="nav-link custom-nav-link"
        routerLink="/{{ menuItem.routePath }}"
        routerLinkActive="active"
      >
        <span>{{ menuItem.title }}</span>
      </a>
    </li>
  </ul>
</div>

<!-- Overlay (Pour fermer la sidebar en cliquant à l'extérieur) -->
<div
  class="sidebar-overlay"
  [ngClass]="{
    'show-overlay': isNavbarOpen
  }"
  (click)="toggleMenus()"
></div>
